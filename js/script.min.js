function getEvents(){debug.group("Getting Events"),Storage.prototype.setObj=function(a,b){this.setItem(a,JSON.stringify(b))};var a=0,b=[],c=new XMLHttpRequest;c.open("GET","https://cors-anywhere.herokuapp.com/http://www.ggc.edu/student-life/events-calendar/events-calendar/summary"),c.send(null),c.onreadystatechange=function(){if(4==c.readyState){for(var d,e=new DOMParser,f=e.parseFromString(c.responseText,"text/html"),g=f.querySelectorAll(".SECalendarSummaryDate"),h=0;h<g.length;h++)if("SECalendarSummaryDate"!=g[h].className)debug.msg(!1);else if(g[h].querySelectorAll(".SECalendarPropertyContainer").length>1)for(var i=0;i<g[h].querySelectorAll(".SECalendarPropertyContainer").length;i++)d=g[h].querySelectorAll(".SECalendarSummaryDateEventList"),b[a]=new Array(g[h].querySelector("h3").innerText,d[0].children[i].querySelector(".SECalendarEventName").innerText,d[0].children[i].children[0].children[2].innerText,d[0].children[i].children[0].children[4].innerText.replace(/^\s+|\s+$/g,"")),a+=1;else d=g[h].querySelectorAll(".SECalendarPropertyContainer"),b[a]=new Array(g[h].querySelector("h3").innerText,g[h].querySelector(".SECalendarEventName").innerText,d[0].children[2].innerText,d[0].children[4].innerText.replace(/^\s+|\s+$/g,"")),a+=1;localStorage.setObj("event_key",b),localStorage.setObj("eventNumber_key",a);var j=new Date;j.getFullYear(),j.getMonth();localStorage.setObj("event_updated",j.getMonth()+1+"/"+j.getDate()),checkLocalStorage()}},debug.end()}function insertEvents(a,b){debug.group("Insert Events");for(var c=new Date,d=(c.getFullYear(),c.getMonth(),/[a-zA-Z]\-[A-Z|0-9][0-9]+/),e=0;e<b;e++){var f=a[e][0].substring(a[e][0].search(c.toLocaleString("en",{month:"long"}))+c.toLocaleString("en",{month:"long"}).length,a[e][0].lastIndexOf(","));if(f>=c.getDate()&&f<=c.getDate()+14){var g=document.createElement("div");g.className="event";var h=document.createElement("div");h.className="tab-group";var i=document.createElement("h5");i.innerText=a[e][1];var j=document.createElement("p");j.innerText=a[e][0];var k=document.createElement("p");k.innerText=a[e][2];var l=document.createElement("p");l.innerText=a[e][3];var m=document.createElement("a"),n=a[e][3].replace(/ /g,""),o=a[e][3].split(", ");if(1==o[0].includes("(")){var p=o[0].search("\\("),q=o[0].search("\\)");o[0]=o[0].replace(o[0].substr(p-1,q),"")}var r=o[0].split(" "),s=!1,t=document.querySelectorAll("div#campusEvents")[0].children[0].children[2];if(1==d.test(n))m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#"+d.exec(n)[0].replace("-","")),m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),1==d.exec(n)[0].includes("C-G")?g.id="C3":"C"==d.exec(n)[0].substr(0,1)&&parseInt(d.exec(n)[0].substr(2,4))>1300&&parseInt(d.exec(n)[0].substr(2,4))<2e3||"C"==d.exec(n)[0].substr(0,1)&&parseInt(d.exec(n)[0].substr(2,4))>2300&&parseInt(d.exec(n)[0].substr(2,4))<3e3?g.id="C3":g.id=d.exec(n)[0].substr(0,1),t.appendChild(h);else{for(var u,v="",w=0;w<campus.buildings.length;w++){for(var x=0;x<campus.buildings[w].floors.length;x++){for(var y=0;y<campus.buildings[w].floors[x].roomNames.length;y++){if(r.length>=2&&1==campus.buildings[w].floors[x].roomNames[y].name.toLowerCase().includes(r[0].toLowerCase()+"-"+r[1].toLowerCase())){s=!0,v=campus.buildings[w].floors[x].roomNames[y].name,u=campus.buildings[w].id.toUpperCase();break}if(1==r.length&&1==campus.buildings[w].floors[x].roomNames[y].name.toLowerCase().includes(r[0].toLowerCase())){debug.msg("test"),s=!0,v=campus.buildings[w].floors[x].roomNames[y].name,u=campus.buildings[w].id.toUpperCase();break}}if(""!==v)break}if(""!==v){debug.msg("Name from JSON: "+v);break}}if(1==s)m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#"+v),g.id=u,m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),t.appendChild(h);else if(o.length>1&&1==o[1].includes("Building")||o.length>1&&1==o[0].includes("Building"))if(1==o[1].includes("Building"))m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#"+o[1].substr(o[1].search("Building")+9)),g.id=o[1].substr(o[1].search("Building")+9),m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),t.appendChild(h);else{var z=/[A-Z|0-9][0-9]+/;m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#"+o[0].substr(o[0].search("Building")+9)+z.exec(o[1])),g.id=o[0].substr(o[0].search("Building")+9),m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),t.appendChild(h)}else 2==r.length&&1==r[0].includes("Building")&&1==r[1].length?(m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#"+r[1]),g.id=r[1],m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),t.appendChild(h)):1==a[e][3].includes("Student Center")?(m.setAttribute("onclick","closeTab('campusEvents');"),m.setAttribute("href","#E"),g.id="E",m.appendChild(i),m.appendChild(j),m.appendChild(k),m.appendChild(l),g.appendChild(m),h.appendChild(g),t.appendChild(h)):(g.appendChild(i),g.appendChild(j),g.appendChild(k),g.appendChild(l),h.appendChild(g),t.appendChild(h))}}}debug.end()}function checkLocalStorage(){debug.group("Check Local Storage"),Storage.prototype.getObj=function(a){return JSON.parse(this.getItem(a))};var a=navigator.onLine,b=new Date;b.getFullYear(),b.getMonth();1==a?null==localStorage.getObj("event_key")||null==localStorage.getObj("eventNumber_key")?getEvents():localStorage.getObj("event_updated")!=b.getMonth()+1+"/"+b.getDate()?getEvents():insertEvents(localStorage.getObj("event_key"),localStorage.getObj("eventNumber_key")):null==localStorage.getObj("event_key")||null==localStorage.getObj("eventNumber_key")?debug.msg("No connection to retrieve events"):insertEvents(localStorage.getObj("event_key"),localStorage.getObj("eventNumber_key")),debug.end()}function sortEvents(){debug.group("Sort Events");var a=/[A-Z][A-Z|0-9][0-9]+/,b=0,c=document.querySelectorAll("div.event");document.querySelectorAll("h5.no-events")[0].style.display="none";var d;if(window.location.hash.length<=2){for(d=0;d<c.length;d++)window.location.hash.substr(1)!=c[d].id?(c[d].style.display="none",b++):window.location.hash.substr(1)==c[d].id&&(c[d].style.display="block");b==c.length&&(document.querySelectorAll("h5.no-events")[0].style.display="block")}else if(1==a.test(window.location.hash.substr(1)))if(1==window.location.hash.includes("CG")||1==window.location.hash.includes("C")&&window.location.hash.substr(2,4)>1300&&window.location.hash.substr(2,4)<1400||1==window.location.hash.includes("C")&&window.location.hash.substr(2,4)>2300&&window.location.hash.substr(2,4)<2400){for(d=0;d<c.length;d++)"C3"==c[d].id?c[d].style.display="block":(c[d].style.display="none",b++);b==c.length&&(document.querySelectorAll("h5.no-events")[0].style.display="block")}else{for(d=0;d<c.length;d++)window.location.hash.substr(1,1)==c[d].id?c[d].style.display="block":(c[d].style.display="none",b++);b==c.length&&(document.querySelectorAll("h5.no-events")[0].style.display="block")}else if("#Campus"==window.location.hash)for(d=0;d<c.length;d++)c[d].style.display="block";else{for(var e,f=0;f<campus.buildings.length;f++)for(var g=0;g<campus.buildings[f].floors.length;g++)for(var h=0;h<campus.buildings[f].floors[g].roomNames.length;h++)window.location.hash.substr(1)==campus.buildings[f].floors[g].roomNames[h].name&&(e=campus.buildings[f].id,debug.msg(e));for(b=0,d=0;d<c.length;d++)c[d].id==e?(c[d].style.display="block",b++):c[d].style.display="none";b==c.length&&(document.querySelectorAll("h5.no-events")[0].style.display="block")}openTab("campusEvents"),debug.end()}function cookieMold(a,b,c){debug.group("Cookie Mold");var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+";"+e+";path=/",debug.end()}function eatCookie(a){debug.group("Eat Cookie");for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return debug.end(),""}function agreePage(a){debug.group("Agree Page"),document.cookie="agreement="+a,window.location.replace("index.html"),debug.end()}function visitCheck(){if(debug.group("Visit Check"),""===eatCookie("visits")||null===eatCookie("visits"))cookieMold("visits",2,7),cookieMold("legend","hide",9999),cookieMold("mode","hide",9999);else{cookieMold("visits",parseInt(eatCookie("visits"))+1,1),"show"===eatCookie("legend")&&(document.getElementById("legendSwitch").checked=!0),"show"===eatCookie("mode")&&(document.getElementById("safetySwitch").checked=!0)}debug.end()}function cookieLegend(){debug.group("Cookie Legend");var a=eatCookie("legend");if(null!==eatCookie("legend"))switch(a){case"hide":cookieMold("legend","show",9999),debug.msg("Now Showing");break;case"show":cookieMold("legend","hide",9999),debug.msg("Now Hiding");break;default:debug.msg("Done changing")}debug.end()}function firstLegend(){debug.group("First Legend"),""!==eatCookie("visits")&&null!==eatCookie("visits")||cookieMold("legend","hide",9999),debug.end()}function switchMap(a){debug.group("Switch Map");var b={map:"",building:"",floor:"",room:"",roomName:""},c=parseSearch(a),d=c.building,e="",f=c.room;b.roomName=c.roomName,debug.msg('RoomName "'+b.roomName+'"'),"campus"===d.toLowerCase()?(b.map=campus.map,b.building="Campus"):""===d.toLowerCase()&&""===b.roomName&&(d=document.getElementById("building").innerHTML,b.builing=d);for(var g=0;g<campus.buildings.length;g++)if(""!==b.roomName&&void 0!==b.roomName&&null!==b.roomName){debug.msg("Search Room Names");for(var h=0;h<campus.buildings[g].floors.length;h++){for(var i=0;i<campus.buildings[g].floors[h].roomNames.length;i++)if(b.roomName.toLowerCase()===campus.buildings[g].floors[h].roomNames[i].name.toLowerCase()){b.building=campus.buildings[g].id,b.floor=campus.buildings[g].floors[h].id,b.room=campus.buildings[g].floors[h].roomNames[i].id,b.map=campus.buildings[g].dir+campus.buildings[g].floors[h].map;break}if(""!==b.map)break}if(""!==b.map)break}else if(d.toUpperCase()===campus.buildings[g].id.toUpperCase()){if(b.building=campus.buildings[g].id,null===f||void 0===c.room||""===c.room){b.floor=campus.buildings[g].floors[0].id,b.map=campus.buildings[g].dir+campus.buildings[g].floors[0].map,b.room=f;break}for(var j=0;j<campus.buildings[g].floors.length;j++)if(f[campus.buildings[g].floorIndex].toUpperCase()===campus.buildings[g].floors[j].id.toUpperCase()||e.toUpperCase()===campus.buildings[g].floors[j].id.toUpperCase()){b.floor=campus.buildings[g].floors[j].id,b.map=campus.buildings[g].dir+campus.buildings[g].floors[j].map,b.room=f;break}}return debug.msg("Building= "+b.building),debug.msg("Floor= "+b.floor),debug.msg("Map= "+b.map),debug.msg("Room= "+b.room),""!==b.roomName&&""===b.map?(alert('Were you trying to search by nickname? Unfortunately, "'+name+'" is not recognized.\nPlease check your spelling, or try a more common name.\n\nExample: Search for "Moes" not "Mo"'),b.building="Campus",b.map=campus.map):""===b.map&&(debug.error('Did you mean to search for "'+c.builing+" "+c.room+"\"?\nThat building doesn't exist."),alert("Did you mean to search for building "+c.building+"?\nThat building doesn't exist."),b.building="Campus",b.map=campus.map),debug.end(),b}function getFloorMap(a,b){debug.group("Get Floor Map"),b=null!==b&&void 0!==b&&""===b?"1":b;var c="";if("campus"===a.toLowerCase())c=campus.map;else for(var d=0;d<campus.buildings.length;d++)if(a.toUpperCase()===campus.buildings[d].id.toUpperCase())for(var e=0;e<campus.buildings[d].floors.length;e++)b.toUpperCase()===campus.buildings[d].floors[e].id.toUpperCase()&&(c=campus.buildings[d].dir+campus.buildings[d].floors[e].map);return""===c&&debug.error("Map not found Building: "+a+" Floor: "+b),debug.end(),c}function addMap(a,b,c){debug.group("Add Map");var d=document.getElementById("building"),e=document.getElementById("floor"),f=document.getElementById("svg-holder");return new Promise(function(g,h){var i=new XMLHttpRequest;i.open("GET",a,!0),i.onload=function(){if(200!==i.status&&h(Error(i.statusText)),b!==d){var a=document.getElementById("building-popup"),j=document.getElementsByClassName("dropdown")[0],k=document.getElementById("sLegend"),l=document.getElementById("pLegend");"Campus"===b?(hideElement(a,HIDE),hideElement(k,HIDE),"show"===eatCookie("legend")?(hideElement(l,SHOW),l.style.display="inherit"):(hideElement(l,HIDE),l.style.display="none")):hideElement(a,SHOW),void 0!==c?(hideElement(e,SHOW),hideElement(j,SHOW),floorDropDown(b),e.innerHTML="FL"+c):(hideElement(e,HIDE),hideElement(j,HIDE))}removeMap(),f.appendChild(convertToElement(i.response));var m=f.childNodes[0];m.style.height=getClientHeight(),d.innerHTML=b;var n;n={haltEventListeners:["touchStart","touchend","touchmove","touchleave","touchcancel"],init:function(a){var c=a.instance,d=1,e=0,f=0;this.hammer=Hammer(a.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("doubletap",function(a){c.zoomIn()}),this.hammer.on("panstart panmove",function(a){"panstart"===a.type&&(e=0,f=0),c.panBy({x:a.deltaX-e,y:a.deltaY-f}),e=a.deltaX,f=a.deltaY}),this.hammer.on("pinchstart pinchmove",function(a){"pinchstart"===a.type&&(d=c.getZoom(),c.zoom(d*a.scale)),c.zoom(d*a.scale)}),this.hammer.on("tap",function(a){if(toggleTab(a,"helpbox"),toggleTab(a,"campusEvents"),"Campus"===b){var c=a.target.parentNode.id;if(void 0!==c&&null!==c)for(var d in campus.buildings)if(c.toUpperCase()===campus.buildings[d].id.toUpperCase()){changeFloor(campus.buildings[d].id,campus.buildings[d].floors[0].id);break}}else{var e=a.target.parentNode.id;4!==e.length&&5!==e.length||(debug.msg("addMap calls activateRoom"),activateRoom(a.target.parentNode.id))}}),a.svgElement.addEventListener("touchmove",function(a){a.preventDefault()})},destroy:function(){this.hammer.destroy()}};var o=svgPanZoom(m,{controlIconsEnabled:!0,fit:1,center:1,customEventsHandler:n});window.addEventListener("resize",function(){m.style.height=getClientHeight(),o.resize(),o.fit(),o.center()}),g(i.response)},i.onerror=function(){h(Error("Network Error"))},i.send(),debug.end()})}function removeMap(){debug.group("Remove Map");for(var a=document.getElementById("svg-holder");a.hasChildNodes();)a.removeChild(a.lastChild);debug.end()}function openMenu(){debug.group("Open Menu");var a=document.getElementsByClassName("nav")[0],b=document.getElementsByClassName("content-disable")[0];"nav"===a.className&&(a.classList.add("nav-active"),b.classList.add("active")),debug.end()}function closeMenu(){debug.group("Close Menu");var a=document.getElementsByClassName("nav")[0],b=document.getElementsByClassName("content-disable")[0];"nav nav-active"===a.className&&(a.classList.remove("nav-active"),b.classList.remove("active"));var c=document.getElementsByClassName("floors")[0];"floors floors-active"===c.className&&c.classList.remove("floors-active"),debug.end()}function subMenu(a){debug.group("Sub Menu");var b=document.getElementsByClassName(a)[0];b.className===a?b.classList.add("subMenu-active"):b.className===a+" subMenu-active"&&b.classList.remove("subMenu-active"),debug.end()}function urlRoom(){if(debug.group("URL Room"),window.navigator.userAgent.indexOf("Edge")>-1);else{var a=window.location.hash,b=a.substring(a.lastIndexOf("#")+1);if(""===b||b.includes(".")||"campus"===b.toLowerCase())addMap(campus.map,"Campus").then(function(a){window.location.hash="Campus",document.getElementById("search").value=""},function(a){debug_error("Failed!",a)});else{searchRoomNumber(switchMap(b))}}debug.end()}function floorDropDown(a){debug.group("Floor DropDown");for(var b=document.getElementsByClassName("floors")[0];b.hasChildNodes();)b.removeChild(b.lastChild);for(var c=[],d=0;d<campus.buildings.length;d++)a.toUpperCase()===campus.buildings[d].id.toUpperCase()&&(c=campus.buildings[d].floors);for(var e=0;e<c.length;e++){var f="<h2 onclick=\"changeFloor('"+a+"', '"+c[e].id+"')\">Floor "+c[e].id+"</h2>";b.appendChild(convertToElement(f))}debug.end()}function activateRoom(a,b){if(debug.group("Activate Room"),debug.msg("Attempt to activate: "+a),"4983"!==a){var c=document.getElementById(a.toLowerCase());if(null===c)alert("Sorry, room number "+a+" couldn't be found in this building.");else{var d=c.className.baseVal;if("room-group"!==d&&!b){if("room-group active-room"===d)return void deactivateAllRooms();return}"room-group"===d&&(deactivateAllRooms(),debug.msg("Activate: "+a),c.classList.add("active-room"))}debug.end()}}function deactivateAllRooms(){debug.group("Deactivate All Rooms");for(var a=document.getElementsByClassName("room-group"),b=0;b<a.length;b++)a[b].classList.remove("active-room");debug.end()}function changeFloor(a,b){debug.group("Change Floor"),closeMenu();var c=a.toUpperCase();document.getElementById("roomSearch").value="",c=getFloorMap(a,b),""!==c&&addMap(c,a,b).then(function(b){window.location.hash=a,debug.msg("urlRoom stopped by changeFloor"),clearTimeout(urlTimer)},function(a){debug.error("Failed!",a)}),debug.end()}function safetyMode(){debug.group("Safety Mode");var a=eatCookie("mode");switch(console.log("Calling safetyMode()"),a){case"hide":cookieMold("mode","show",9999),console.log("Now showing"),debug.msg("Now Showing");break;case"show":cookieMold("mode","hide",9999),console.log("Now hiding"),debug.msg("Now Hiding");break;default:console.log("Done changing. Mode = "+a),debug.msg("Done changing")}}function secondLegend(){debug.group("Second Legend"),""!==eatCookie("visits")&&null!==eatCookie("visits")||cookieMold("mode","hide",9999),debug.end()}function toggleSafetyMode(){var a=document.getElementById("sLegend");"show"===eatCookie("mode")?(hideElement(a,SHOW),a.style.display="inherit",Safety.style.display="block"):(hideElement(a,HIDE),a.style.display="none",Safety.style.display="none")}function searchSuggest(a){debug.group("Search Suggest");var b=document.getElementById("roomSearch").value.toUpperCase();roomList=document.getElementById("rooms");var c=[],d=[],e="undefined"!=typeof InstallTrigger,f="";if(loadSearch("Building\\AllRooms.txt"),c=document.getElementById("arrayStore").value.split(","),debug.msg(b),e){if(""==roomList.innerHTML){for(var g=0;g<c.length-1;g++)f+='<option value="'+c[g]+'" />';roomList.innerHTML="<select>"+f+"</select>"}}else{for(var h=0;h<=c.length-1;h++)c[h].includes(b)&&d.push(c[h]);debug.msg(d);for(var i=0;i<4&&i<=d.length-1;i++)f+='<option value="'+d[i]+'" />';roomList.innerHTML="<select>"+f+"</select>"}debug.end()}function loadSearch(a){return new Promise(function(b,c){debug.group("Load Search");var d=new XMLHttpRequest;d.open("GET",a,!0),d.onload=function(){200!==d.status&&c(Error(d.statusText)),document.getElementById("arrayStore").value=d.responseText.split("\n"),b(d.response)},d.onerror=function(){c(Error("Network Error"))},d.send(),debug.end()})}function searchFromBar(a){debug.group("Search From Bar"),13!=a.which&&13!=a.keyCode||(debug.msg("searchFromBar calls searchRoomNumber"),searchRoomNumber()),debug.end()}function searchFromMenu(a){debug.group("Search From Menu"),closeMenu(),debug.msg("searchFromMenu calls parseSearch");var b=switchMap(a);""!==b.roomName?document.getElementById("roomSearch").value=b.roomName:document.getElementById("roomSearch").value=b.building+" "+b.room,debug.msg("searchFromMenu calls searchRoomNumber"),searchRoomNumber(b),debug.end()}function searchRoomNumber(a){debug.group("Search Room Number");var b;if(void 0!==a?(debug.msg("Data Passed"),b=a):(debug.msg("Data Not Passed"),b=switchMap(document.getElementById("roomSearch").value)),debug.msg(b),"campus"===b.roomName.toLowerCase()||"campus"===b.building.toLowerCase())document.getElementById("roomSearch").value="",changeFloor("Campus");else{var c="4983",d=document.getElementById("building").innerHTML,e=document.getElementById("floor").innerHTML,f="",g="";""!==b.building&&(debug.msg("New Building: "+b.building),f=b.building),""!==b.floor&&(debug.msg("New Floor: "+b.floor),g=b.floor),debug.msg("New Room: "+b.room),""!==b.room&&(c=b.room);!function(){debug.group("Upper Hash"),""!==b.roomName?window.location.hash=b.roomName:window.location.hash="4983"!==c?f.toUpperCase()+"-"+c.toUpperCase():f.toUpperCase(),debug.msg("urlRoom stopped by upperHash()"),clearTimeout(urlTimer),debug.end()}(),d!==f||e!==g?(debug.msg("searchRoomNumber calls searchNewFloor"),searchNewFloor(f,g,c,b.map)):(debug.msg("searchRoomNumber calls activateRoom"),activateRoom(c,!0))}debug.end()}function searchNewFloor(a,b,c,d){debug.group("Search New Floor");var e=a,f=document.getElementById("building"),g=document.getElementById("floor");f.innerHTML===a&&g.innerHTML===b||""!==(e=d)&&(debug.msg("searchNewFloor calls addMap"),addMap(e,a,b).then(function(a){debug.msg("searchNewFloor calls activateRoom"),activateRoom(c,!0)},function(a){debug.error("Failed!",a)})),debug.end()}function openTab(a){debug.group("Open Tab"),closeMenu();var b=document.getElementById(a);if(!b.classList.contains("tab-active")){b.classList.toggle("tab-active");var c=tabContentHeight(a);b.childNodes[0].childNodes[7].style.height=c+"px"}debug.end()}function closeTab(a){debug.group("Close Tab");var b=document.getElementById(a);b.classList.contains("tab-active")&&b.classList.toggle("tab-active"),debug.end()}function tabContentHeight(a){debug.group("Tab Content Height");var b=window.innerHeight||document.body.clientHeight,c=document.getElementById(a).childNodes[0].childNodes[1].clientHeight;return debug.end(),b-c}function isLetter(a){return a.toLowerCase()!==a.toUpperCase()}function isNumeric(a){return!isNaN(parseFloat(a))&&isFinite(a)}function parseSearch(a){debug.group("Parse Search");var b=a.split(/[ \+-\s<>'"();\/\\]+/),c="",d="",e="";debug.msg("Search: "+a);for(var f=0;f<b.length;f++)1===b[f].length&&isLetter(b[f])&&0===f?c=b[f]:4===b[f].length?isNumeric(b[f])?"2000"==b[f]||"3000"==b[f]?c=b[f][0]:d=b[f]:"G"===b[f].charAt(0).toUpperCase()&&isNumeric(b[f].substring(1))?(d=b[f],c="C"):(""!==e&&(e+="-"),e+=b[f]):5===b[f].length?isNumeric(b[f].substring(1))?(d=b[f].substring(1),c=b[f].charAt(0)):isNumeric(b[f].substring(0,4))?d=b[f]:(""!==e&&(e+="-"),e+=b[f]):6===b[f].length&&isNumeric(b[f].substring(1,5))?(d=b[f].substring(1),c=b[f].charAt(0)):(""!==e&&(e+="-"),e+=b[f]);""===c&&""===d&&""!==e&&isLetter(a[0])&&isNumeric(a[2])&&(c=a[0],d=a.substring(1),e=""),"C"===c.toUpperCase()&&"3"===d[1]&&(c="C3",e="");var g={building:c,room:d,roomName:e.toLowerCase()};return debug.msg(g),debug.end(),g}function activatePopup(a,b){debug.group("Activate Popup"),a.onmouseover=function(){document.getElementById(b).classList.toggle("popup-active")},a.onmouseout=function(){document.getElementById(b).classList.toggle("popup-active")},debug.end()}function convertToElement(a){debug.group("Convert to Element");var b=document.createElement("div");return b.innerHTML=a,debug.end(),b.childNodes[0]}function getClientHeight(){return(window.innerHeight||document.body.clientHeight)+"px"}function dropdown(a,b){debug.group("Drop Down"),document.getElementsByClassName(a)[0].classList.toggle(b),debug.end()}function resetWidth(a){debug.group("Reset Width"),debug.msg("resize"),a.resize(),a.fit(),a.center(),debug.end()}function hideElement(a,b){debug.group("Hide Element"),b?a.classList.contains("hide")||a.classList.toggle("hide"):a.classList.contains("hide")&&a.classList.toggle("hide"),debug.end()}function loadFile(a,b){return new Promise(function(c,d){debug.group("Load File");var e=new XMLHttpRequest;e.open("GET",b,!0),e.onload=function(){200!==e.status&&d(Error(e.statusText)),document.getElementById(a).appendChild(convertToElement(e.response)),c(e.response)},e.onerror=function(){d(Error("Network Error"))},e.send(),debug.end()})}function toggleTab(a,b){debug.group("Toggle Tab");var c=document.getElementById(b);!isDescendant(c,a.target)&&c.classList.contains("tab-active")&&c.classList.toggle("tab-active"),debug.end()}function isDescendant(a,b){debug.group("Is Decendant");for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return debug.end(),!1}var campus={map:"Building/(Campus)/campus.html",buildings:[{id:"2",name:"2000",dir:"Building/2000/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[]}]},{id:"3",name:"3000",dir:"Building/3000/",floorIndex:1,floors:[{id:"1",map:"First-Floor.html",roomNames:[]},{id:"2",map:"Second-Floor.html",roomNames:[]},{id:"3",map:"Third-Floor.html",roomNames:[]},{id:"4",map:"Fourth-Floor.html",roomNames:[]}]},{id:"A",name:"Building A",dir:"Building/A/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"food-court",id:"1800"},{name:"chick-fil-a",id:"chickfila"},{name:"CFA",id:"chickfila"},{name:"chickfila",id:"chickfila"},{name:"chick-fil",id:"chickfila"},{name:"chick",id:"chickfila"},{name:"panda-express",id:"pandaexpress"},{name:"panda",id:"pandaexpress"},{name:"moe-s-southwest-grill",id:"moes"},{name:"moe-s",id:"moes"},{name:"moes",id:"moes"},{name:"pod-market",id:"1825"},{name:"pod",id:"1825"},{name:"the-den",id:"1510"},{name:"den",id:"1510"},{name:"dining-services",id:"1850"},{name:"technology-help-desk",id:"1040"},{name:"help-desk",id:"1040"}]}]},{id:"B",name:"Building B",dir:"Building/B/",floorIndex:0,floors:[{id:"1",map:"first-floor.html",roomNames:[{name:"einstein-bros-bagels",id:"einsteinbrosbagels"},{name:"einstein-bros",id:"einsteinbrosbagels"},{name:"einstein-s",id:"einsteinbrosbagels"},{name:"einsteins",id:"einsteinbrosbagels"}]},{id:"2",map:"second-floor.html",roomNames:[{name:"human-resources",id:"2500"}]},{id:"3",map:"third-floor.html",roomNames:[{name:"president-s-office",id:"3500"},{name:"office-of-the-president",id:"3500"}]}]},{id:"C",name:"Building C",dir:"Building/C/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"cisco-auditorium",id:"1260"},{name:"cisco",id:"1260"}]},{id:"2",map:"Second-Floor.html",roomNames:[]}]},{id:"W",name:"Building W",dir:"Building/W/",floorIndex:0,floors:[{id:"1",map:"Ground-Floor.html",roomNames:[{name:"acedemic enhancement center",id:"1160"},{name:"aec",id:"1160"}]},{id:"2",map:"First-Floor.html",roomNames:[{name:"public-safety",id:"2501"},{name:"public-safety-office",id:"2501"},{name:"Office-of-public-safety",id:"2501"},{name:"campus-police",id:"2501"},{name:"police",id:"2501"},{name:"campus-security",id:"2501"},{name:"onestop",id:"onestop"},{name:"one-stop",id:"onestop"},{name:"one-stop-shop",id:"onestop"},{name:"testing-services",id:"2301"},{name:"testing",id:"1301"},{name:"disability-service",id:""},{name:"disability",id:""},{name:"parking-services",id:"2123"},{name:"parking",id:"2123"},{name:"registrar",id:"2129"},{name:"registrar-office",id:"2129"},{name:"student-accounts",id:"2147"}]},{id:"3",map:"Second-Floor.html",roomNames:[{name:"office-of-internationalization",id:"3100"},{name:"internationalization",id:"3100"}]}]},{id:"D",name:"Building D",dir:"Building/D/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[]},{id:"2",map:"Second-Floor.html",roomNames:[]}]},{id:"E",name:"Building E",dir:"Building/E/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"Game-Room",id:"gameroom"},{name:"Dining-Hall",id:"dininghall"},{name:"Dining-Area",id:"dininghall"},{name:"Dining",id:"dininghall"},{name:"Multi-Purpose-room",id:"multipurposeroom"},{name:"Private-Dining",id:"privatedining"},{name:"Food-Stations",id:"foodstations"},{name:"Kitchen-Area",id:"kitchenarea"},{name:"Kitchen",id:"kitchenarea"},{name:"Outdoor-Dining",id:"outdoordining"}]},{id:"2",map:"Second-Floor.html",roomNames:[{name:"bookstore",id:"bookstore"},{name:"barnes-and-noble",id:"bookstore"},{name:"terrace",id:"terrace"},{name:"lvis",id:"lvis"},{name:"Catering-Kitchen",id:"cateringkitchen"},{name:"lounge",id:"lounge"},{name:"Info-Desk",id:"infodesk"},{name:"career-services",id:"2130"},{name:"career-development",id:"2130"},{name:"office-of-career-services",id:"2130"},{name:"student-integrity",id:"2150"},{name:"office-of-student-integrity",id:"2150"}]},{id:"3",map:"Third-Floor.html",roomNames:[{name:"mail-room",id:"3103"},{name:"claw-card-office",id:"3107"},{name:"claw-card",id:"3107"},{name:"office-of-get-involved",id:"3120"},{name:"get-involved",id:"3120"},{name:"student-involvement-center",id:"3130"},{name:"rso-lounge",id:"3130"},{name:"rso",id:"3130"},{name:"globe-office",id:"3151"},{name:"globe",id:"3151"},{name:"office-of-student-affairs",id:"3140"},{name:"student-affairs",id:"3140"},{name:"sga",id:"3132"},{name:"sga-office",id:"3132"},{name:"office-of-sga",id:"3132"},{name:"office-of-the-student-government-association",id:"3132"},{name:"student-government",id:"3132"},{name:"office-of-volunteer-ggc",id:"3133"},{name:"volunteer-ggc",id:"3133"},{name:"volunteer",id:"3133"},{name:"office-of-greenlight-activities-board",id:"3134"},{name:"greenlight-office",id:"3134"},{name:"greenlight",id:"3134"}]}]},{id:"F",name:"Building F",dir:"Building/F/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"Jr-Olympic-Pool",id:"jrolympicpool"},{name:"Swimming-Pool",id:"jrolympicpool"},{name:"Pool",id:"jrolympicpool"},{name:"Basketball-Court",id:"basketballcourt"},{name:"Basketball",id:"basketballcourt"},{name:"Racquet-Ball",id:"racquetballcourt1"},{name:"Racquet-Ball-Court",id:"racquetballcourt1"},{name:"Racquet-Ball-Court-1",id:"racquetballcourt1"},{name:"Racquet-Ball-Court-2",id:"racquetballcourt2"},{name:"Racquet-Ball-Court-3",id:"racquetballcourt3"},{name:"Mens-Lockers",id:"menslockers"},{name:"Mens-Locker",id:"menslockers"},{name:"Mens-Locker-Room",id:"menslockers"},{name:"Men-s-Lockers",id:"menslockers"},{name:"Men-s-Locker-Room",id:"menslockers"},{name:"Womens-Lockers",id:"womenslockers"},{name:"Womens-Locker",id:"womenslockers"},{name:"Women-s-Lockers",id:"womenslockers"},{name:"Women-s-Locker-Room",id:"womenslockers"}]},{id:"2",map:"Second-Floor.html",roomNames:[{name:"Weight-Machines",id:"weightmachines"},{name:"Free-Weights",id:"freeweights"},{name:"Weight-Room",id:"freeweights"},{name:"Weights-Room",id:"freeweights"},{name:"Aerobics",id:"aerobics"},{name:"Spin-Room",id:"spinroom"},{name:"Cardio",id:"cardio"},{name:"Elevated-Track",id:"elevatedtrack"},{name:"Indoor-Track",id:"elevatedtrack"},{name:"Track",id:"elevatedtrack"}]}]},{id:"H",name:"Building H",dir:"Building/H/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"digital-media-lab",id:"1210"},{name:"digital-media",id:"1210"}]},{id:"2",map:"Second-Floor.html",roomNames:[]},{id:"3",map:"Third-Floor.html",roomNames:[]}]},{id:"I",name:"Building I",dir:"Building/I/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[]},{id:"2",map:"Second-Floor.html",roomNames:[]},{id:"3",map:"Third-Floor.html",roomNames:[]}]},{id:"L",name:"Building L",dir:"Building/L/",floorIndex:0,floors:[{id:"1",map:"First-Floor.html",roomNames:[{name:"starbucks",id:"1102"},{name:"circulation-desk",id:"1136"}]},{id:"2",map:"Second-Floor.html",roomNames:[{name:"reference-desk",id:"2101"}]},{id:"3",map:"Third-Floor.html",roomNames:[{name:"heritage-room",id:"3148"},{name:"archives-and-special-collections",id:"3146"},{name:"grand-reading-room",id:"3111"},{name:"grand-reading",id:"3111"},{name:"quiet-reading-room",id:"3111"},{name:"quiet-reading",id:"3111"},{name:"reading-room",id:"3111"},{name:"quiet-room",id:"3111"}]}]}]},debug={active:!1,group:function(a){this.active&&console.group(a)},end:function(){console.groupEnd()},msg:function(a){this.active&&console.log(a)},error:function(a){this.active&&console.error(a)}},HIDE=!0,SHOW=!1,urlTimer,helpFile="help.html",campusEventsFile="campusEvents.html";document.addEventListener("DOMContentLoaded",function(){debug.group("DOM Content Loaded"),loadFile("helpbox",helpFile).then(function(a){},function(a){debug.error("Failed!",a)}),loadFile("campusEvents",campusEventsFile).then(function(a){checkLocalStorage()},function(a){debug.error("Failed!",a)})
;var a=document.getElementById("building"),b=document.getElementById("floor"),c=document.getElementById("menu"),d=document.getElementById("search");activatePopup(a,"building-popup"),activatePopup(b,"floor-popup"),activatePopup(c,"menu-popup"),activatePopup(d,"search-popup"),urlRoom(),window.addEventListener("popstate",function(a){debug.msg("website auto calls urlRoom"),urlTimer=setTimeout(function(){urlRoom()},100)}),debug.end()});
